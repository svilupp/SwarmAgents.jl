<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SwarmAgents.jl</title><meta name="title" content="API · SwarmAgents.jl"/><meta property="og:title" content="API · SwarmAgents.jl"/><meta property="twitter:title" content="API · SwarmAgents.jl"/><meta name="description" content="Documentation for SwarmAgents.jl."/><meta property="og:description" content="Documentation for SwarmAgents.jl."/><meta property="twitter:description" content="Documentation for SwarmAgents.jl."/><meta property="og:url" content="https://svilupp.github.io/SwarmAgents.jl/api/"/><meta property="twitter:url" content="https://svilupp.github.io/SwarmAgents.jl/api/"/><link rel="canonical" href="https://svilupp.github.io/SwarmAgents.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SwarmAgents.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/svilupp/SwarmAgents.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/svilupp/SwarmAgents.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><p>API Reference for <a href="https://github.com/svilupp/SwarmAgents.jl">SwarmAgents</a>.</p><ul><li><a href="#SwarmAgents.AbstractAgent"><code>SwarmAgents.AbstractAgent</code></a></li><li><a href="#SwarmAgents.AbstractAgentActor"><code>SwarmAgents.AbstractAgentActor</code></a></li><li><a href="#SwarmAgents.AbstractAgentRef"><code>SwarmAgents.AbstractAgentRef</code></a></li><li><a href="#SwarmAgents.AbstractFlowRules"><code>SwarmAgents.AbstractFlowRules</code></a></li><li><a href="#SwarmAgents.AbstractTerminationFlowRules"><code>SwarmAgents.AbstractTerminationFlowRules</code></a></li><li><a href="#SwarmAgents.AbstractToolFlowRules"><code>SwarmAgents.AbstractToolFlowRules</code></a></li><li><a href="#SwarmAgents.Agent"><code>SwarmAgents.Agent</code></a></li><li><a href="#SwarmAgents.AgentRef"><code>SwarmAgents.AgentRef</code></a></li><li><a href="#SwarmAgents.FixedOrder"><code>SwarmAgents.FixedOrder</code></a></li><li><a href="#SwarmAgents.FixedPrerequisites"><code>SwarmAgents.FixedPrerequisites</code></a></li><li><a href="#SwarmAgents.PrivateMessage"><code>SwarmAgents.PrivateMessage</code></a></li><li><a href="#SwarmAgents.Response"><code>SwarmAgents.Response</code></a></li><li><a href="#SwarmAgents.Session"><code>SwarmAgents.Session</code></a></li><li><a href="#SwarmAgents.TerminationCycleCheck"><code>SwarmAgents.TerminationCycleCheck</code></a></li><li><a href="#SwarmAgents.TerminationGenericCheck"><code>SwarmAgents.TerminationGenericCheck</code></a></li><li><a href="#SwarmAgents.TerminationRepeatCheck"><code>SwarmAgents.TerminationRepeatCheck</code></a></li><li><a href="#SwarmAgents.add_rules!-Tuple{Session, AbstractFlowRules}"><code>SwarmAgents.add_rules!</code></a></li><li><a href="#SwarmAgents.add_rules!-Tuple{Session, Vector{&lt;:AbstractFlowRules}}"><code>SwarmAgents.add_rules!</code></a></li><li><a href="#SwarmAgents.add_tools!-Tuple{Agent, Vector}"><code>SwarmAgents.add_tools!</code></a></li><li><a href="#SwarmAgents.add_transfers!-Tuple{Session}"><code>SwarmAgents.add_transfers!</code></a></li><li><a href="#SwarmAgents.convert_message-Tuple{Type{&lt;:PromptingTools.AbstractMessage}, PromptingTools.AbstractMessage}"><code>SwarmAgents.convert_message</code></a></li><li><a href="#SwarmAgents.filter_history-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}, Agent}"><code>SwarmAgents.filter_history</code></a></li><li><a href="#SwarmAgents.get_allowed_tools-Tuple{Vector{&lt;:AbstractFlowRules}, Vector{String}, Vector{String}}"><code>SwarmAgents.get_allowed_tools</code></a></li><li><a href="#SwarmAgents.get_used_tools"><code>SwarmAgents.get_used_tools</code></a></li><li><a href="#SwarmAgents.handle_tool_calls!-Tuple{Union{Nothing, Agent}, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}"><code>SwarmAgents.handle_tool_calls!</code></a></li><li><a href="#SwarmAgents.is_cycle-Tuple{Any}"><code>SwarmAgents.is_cycle</code></a></li><li><a href="#SwarmAgents.is_visible-Tuple{PromptingTools.AbstractMessage, Agent}"><code>SwarmAgents.is_visible</code></a></li><li><a href="#SwarmAgents.isabstractagent-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagent</code></a></li><li><a href="#SwarmAgents.isabstractagentactor-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagentactor</code></a></li><li><a href="#SwarmAgents.isabstractagentref-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagentref</code></a></li><li><a href="#SwarmAgents.num_subsequent_repeats-Tuple{Any}"><code>SwarmAgents.num_subsequent_repeats</code></a></li><li><a href="#SwarmAgents.print_progress-Tuple{Union{Nothing, IO}, Union{Nothing, AbstractAgent}, Any}"><code>SwarmAgents.print_progress</code></a></li><li><a href="#SwarmAgents.run_full_turn-Tuple{AbstractAgent, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}"><code>SwarmAgents.run_full_turn</code></a></li><li><a href="#SwarmAgents.run_full_turn!-Tuple{Session, AbstractString}"><code>SwarmAgents.run_full_turn!</code></a></li><li><a href="#SwarmAgents.run_termination_checks-NTuple{4, Any}"><code>SwarmAgents.run_termination_checks</code></a></li><li><a href="#SwarmAgents.scrub_agent_name-Tuple{AbstractAgent}"><code>SwarmAgents.scrub_agent_name</code></a></li><li><a href="#SwarmAgents.tool_output-Tuple{Any}"><code>SwarmAgents.tool_output</code></a></li><li><a href="#SwarmAgents.transfer_agent-Tuple{String, String}"><code>SwarmAgents.transfer_agent</code></a></li><li><a href="#SwarmAgents.update_system_message!-Union{Tuple{T}, Tuple{AbstractVector{T}, Union{Nothing, Agent}}} where T&lt;:PromptingTools.AbstractMessage"><code>SwarmAgents.update_system_message!</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractAgent" href="#SwarmAgents.AbstractAgent"><code>SwarmAgents.AbstractAgent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractAgent</code></pre><p>Base abstract type for all agents in the system. Agents can be either concrete actors that perform actions or references to other agents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L8-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractAgentActor" href="#SwarmAgents.AbstractAgentActor"><code>SwarmAgents.AbstractAgentActor</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractAgentActor &lt;: AbstractAgent</code></pre><p>Abstract type for concrete agent implementations that can perform actions. These are the actual agents that execute tasks and interact with tools.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L16-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractAgentRef" href="#SwarmAgents.AbstractAgentRef"><code>SwarmAgents.AbstractAgentRef</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractAgentRef &lt;: AbstractAgent</code></pre><p>Abstract type for agent references that point to other agents. Used to create indirect references and chains of agent responsibilities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L24-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractFlowRules" href="#SwarmAgents.AbstractFlowRules"><code>SwarmAgents.AbstractFlowRules</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractFlowRules</code></pre><p>Base abstract type for all flow control rules in the system. Flow rules govern how agents interact and how the system progresses.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L33-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractTerminationFlowRules" href="#SwarmAgents.AbstractTerminationFlowRules"><code>SwarmAgents.AbstractTerminationFlowRules</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractTerminationFlowRules &lt;: AbstractFlowRules</code></pre><p>Abstract type for rules that determine when to terminate agent execution. These rules prevent infinite loops and detect completion conditions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L49-L54">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AbstractToolFlowRules" href="#SwarmAgents.AbstractToolFlowRules"><code>SwarmAgents.AbstractToolFlowRules</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractToolFlowRules &lt;: AbstractFlowRules</code></pre><p>Abstract type for rules that control tool execution and flow. These rules determine which tools are allowed to be used at any given point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/abstract_types.jl#L41-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.Agent" href="#SwarmAgents.Agent"><code>SwarmAgents.Agent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Agent &lt;: AbstractAgentActor</code></pre><p>A concrete agent implementation that can perform actions.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: The name of the agent</li><li><code>model::String</code>: The model to use for the agent</li><li><code>instructions::String</code>: The instructions for the agent</li><li><code>tool_map::Dict{String, AbstractTool}</code>: A dictionary of tools available to the agent</li><li><code>tool_choice::Union{String, Nothing}</code>: The tool choice for the agent</li><li><code>parallel_tool_calls::Bool</code>: Whether to allow parallel tool calls</li><li><code>private::Bool</code>: Whether agent&#39;s messages should be private by default</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L44-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.AgentRef" href="#SwarmAgents.AgentRef"><code>SwarmAgents.AgentRef</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AgentRef &lt;: AbstractAgentRef</code></pre><p>A reference to another agent in the system.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: The name of the referenced agent</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L11-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.FixedOrder" href="#SwarmAgents.FixedOrder"><code>SwarmAgents.FixedOrder</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FixedOrder &lt;: AbstractToolFlowRules</code></pre><p>A concrete implementation of AbstractToolFlowRules that enforces a fixed order of tool execution. Controls tool availability based on execution sequence.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: Name of the rule</li><li><code>order::Vector{String}</code>: List of tools in required execution order</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Single tool (always available as first in cycle)
rule = FixedOrder(tool)  # Convenience constructor for single tool

# Multiple tools in sequence
tools = [tool1, tool2, tool3]
rules = [FixedOrder(tool) for tool in tools]  # Broadcast FixedOrder over tools
add_rules!(session, rules)  # Add as flow rules

# Create with explicit order
rule = FixedOrder([&quot;tool1&quot;, &quot;tool2&quot;, &quot;tool3&quot;])</code></pre><p><strong>Notes</strong></p><ul><li>Only allows one tool at a time in strict sequence</li><li>Returns empty list when all tools have been used</li><li>If order is empty, returns all_tools (passthrough)</li><li>Single tool constructor makes the tool always available (first in cycle)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L131-L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.FixedPrerequisites" href="#SwarmAgents.FixedPrerequisites"><code>SwarmAgents.FixedPrerequisites</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">FixedPrerequisites &lt;: AbstractToolFlowRules</code></pre><p>A concrete implementation of AbstractToolFlowRules that enforces prerequisites for tool execution. Controls tool availability based on prerequisite completion.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: Name of the rule</li><li><code>prerequisites::Dict{String,Vector{String}}</code>: Map of tools to their prerequisites</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create with keyword constructor and ordered list
rule = FixedPrerequisites(order=[&quot;search&quot;, &quot;analyze&quot;, &quot;summarize&quot;])

# Create with explicit prerequisites
prereqs = Dict(&quot;analyze&quot; =&gt; [&quot;search&quot;], &quot;summarize&quot; =&gt; [&quot;search&quot;, &quot;analyze&quot;])
rule = FixedPrerequisites(prerequisites=prereqs)</code></pre><p><strong>Notes</strong></p><ul><li>Tools can only be used after their prerequisites</li><li>Tools without prerequisites are always allowed</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L498-L521">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.PrivateMessage" href="#SwarmAgents.PrivateMessage"><code>SwarmAgents.PrivateMessage</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PrivateMessage &lt;: PT.AbstractMessage</code></pre><p>A wrapper message type that defines message visibility for agents.</p><p>Message Visibility Rules:</p><ul><li>Messages from private agents are wrapped in PrivateMessage</li><li>Messages are made public (visible to all agents) in the following cases:<ol><li>Last turn of an agent&#39;s sequence (marked with last_turn=true)</li><li>Assistant messages with no tool calls (to explain why tool calls stopped)</li><li>Messages from agent handoff (when a new agent is selected)</li></ol></li><li>Only intermediate tool calls remain private</li></ul><p>This ensures that following agents understand why they were called while maintaining privacy of intermediate processing steps.</p><p><strong>Fields</strong></p><ul><li><code>object::PT.AbstractMessage</code>: The underlying message being wrapped</li><li><code>visible::Vector{String}</code>: List of agent names that can see this message</li><li><code>last_turn::Bool</code>: Indicates if this message is from the last turn of an agent</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/privacy.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.Response" href="#SwarmAgents.Response"><code>SwarmAgents.Response</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Response</code></pre><p>Container for the results of a workflow operation.</p><p><strong>Fields</strong></p><ul><li><code>messages::Vector{&lt;:PT.AbstractMessage}</code>: New messages generated during the operation</li><li><code>agent::Union{AbstractAgent, Nothing}</code>: The resulting agent state</li><li><code>context::Dict{Symbol, Any}</code>: The resulting context state</li><li><code>tools_used::Vector{AbstractTool}</code>: Tools used during the operation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L26-L36">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.Session" href="#SwarmAgents.Session"><code>SwarmAgents.Session</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Session</code></pre><p>Main container for managing agent interactions and state.</p><p><strong>Fields</strong></p><ul><li><code>messages::Vector{&lt;:PT.AbstractMessage}</code>: Message history</li><li><code>agent::Union{AbstractAgent, Nothing}</code>: Currently active agent</li><li><code>context::Dict{Symbol, Any}</code>: Context variables</li><li><code>artifacts::Vector{Any}</code>: Tool outputs</li><li><code>io::Union{Nothing,IO}</code>: Output stream</li><li><code>rules::Vector{AbstractFlowRules}</code>: Session rules</li><li><code>agent_map::Dict{Symbol, &lt;:AbstractAgent}</code>: Agent reference map</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L68-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.TerminationCycleCheck" href="#SwarmAgents.TerminationCycleCheck"><code>SwarmAgents.TerminationCycleCheck</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TerminationCycleCheck(n_cycles::Int=3, span::Int=3)</code></pre><p>Checks for repeated cycles of tool calls in the message history.</p><p><strong>Fields</strong></p><ul><li><code>n_cycles::Int=3</code>: Number of cycles required to trigger termination</li><li><code>span::Int=3</code>: Maximum width of cycle to be considered</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility, operates on all messages</li><li>Ignores AIToolRequests and non-tool messages</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Check for 3 repetitions of cycles up to length 3
rule = TerminationCycleCheck(3, 3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L246-L264">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.TerminationGenericCheck" href="#SwarmAgents.TerminationGenericCheck"><code>SwarmAgents.TerminationGenericCheck</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TerminationGenericCheck</code></pre><p>Custom termination check using a provided function.</p><p><strong>Fields</strong></p><ul><li><code>callable::Function</code>: Function that takes (history, active<em>agent) and returns active</em>agent</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility by default, but custom function can implement visibility checks</li><li>Function should return nothing to trigger termination</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Create with a function (both styles work)
check = TerminationGenericCheck((history, agent) -&gt; length(history) &gt; 10 ? nothing : agent)
check = TerminationGenericCheck(callable=(history, agent) -&gt; length(history) &gt; 10 ? nothing : agent)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L302-L320">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.TerminationRepeatCheck" href="#SwarmAgents.TerminationRepeatCheck"><code>SwarmAgents.TerminationRepeatCheck</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TerminationRepeatCheck(n::Int)</code></pre><p>Checks for consecutive repetitions of the same tool.</p><p><strong>Fields</strong></p><ul><li><code>n::Int</code>: Number of consecutive repeats required to trigger termination</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility, operates on all messages</li><li>Ignores AIToolRequests and non-tool messages</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Terminate if same tool is used 5 times in a row
rule = TerminationRepeatCheck(5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L275-L292">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.add_rules!-Tuple{Session, AbstractFlowRules}" href="#SwarmAgents.add_rules!-Tuple{Session, AbstractFlowRules}"><code>SwarmAgents.add_rules!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_rules!(session::Session, rule::AbstractFlowRules)</code></pre><p>Add a single flow rule to a session.</p><p><strong>Arguments</strong></p><ul><li><code>session::Session</code>: The session to add the rule to</li><li><code>rule::AbstractFlowRules</code>: Rule to add</li></ul><p><strong>Notes</strong></p><ul><li>Rule is added to session.rules vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L227-L238">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.add_rules!-Tuple{Session, Vector{&lt;:AbstractFlowRules}}" href="#SwarmAgents.add_rules!-Tuple{Session, Vector{&lt;:AbstractFlowRules}}"><code>SwarmAgents.add_rules!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_rules!(session::Session, rules::Vector{&lt;:AbstractFlowRules})</code></pre><p>Add flow rules to a session.</p><p><strong>Arguments</strong></p><ul><li><code>session::Session</code>: The session to add rules to</li><li><code>rules::Vector{&lt;:AbstractFlowRules}</code>: Vector of rules to add</li></ul><p><strong>Notes</strong></p><ul><li>Rules are added to session.rules</li><li>Duplicate rule names will be overwritten with a warning</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L210-L222">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.add_tools!-Tuple{Agent, Vector}" href="#SwarmAgents.add_tools!-Tuple{Agent, Vector}"><code>SwarmAgents.add_tools!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_tools!(agent::Agent, tools::Vector)</code></pre><p>Adds <code>tools</code> to an <code>agent</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L187-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.add_transfers!-Tuple{Session}" href="#SwarmAgents.add_transfers!-Tuple{Session}"><code>SwarmAgents.add_transfers!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_transfers!(session::Session)</code></pre><p>Add transfer tools to each agent in the session&#39;s agent_map to enable transfers between agents. For each agent, creates transfer functions to all other agents (except itself) and adds them as tools.</p><p>Each transfer tool includes a handover_message parameter to explain the reason for transfer.</p><p>Example:</p><pre><code class="language-julia hljs"># If agent_map contains &quot;Booking Agent&quot; and &quot;Support Agent&quot;
# Creates tools:
# - transfer_to_booking_agent(handover_message::String) for Support Agent
# - transfer_to_support_agent(handover_message::String) for Booking Agent</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L230-L245">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.convert_message-Tuple{Type{&lt;:PromptingTools.AbstractMessage}, PromptingTools.AbstractMessage}" href="#SwarmAgents.convert_message-Tuple{Type{&lt;:PromptingTools.AbstractMessage}, PromptingTools.AbstractMessage}"><code>SwarmAgents.convert_message</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">convert_message(T::Type{&lt;:PT.AbstractMessage}, msg::PT.AbstractMessage)</code></pre><p>Convert a message to the specified message type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/utils.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.filter_history-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}, Agent}" href="#SwarmAgents.filter_history-Tuple{AbstractVector{&lt;:PromptingTools.AbstractMessage}, Agent}"><code>SwarmAgents.filter_history</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filter_history(history::AbstractVector{&lt;:PT.AbstractMessage}, agent::Agent)</code></pre><p>Filter message history to only include messages visible to the specified agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/privacy.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.get_allowed_tools-Tuple{Vector{&lt;:AbstractFlowRules}, Vector{String}, Vector{String}}" href="#SwarmAgents.get_allowed_tools-Tuple{Vector{&lt;:AbstractFlowRules}, Vector{String}, Vector{String}}"><code>SwarmAgents.get_allowed_tools</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_allowed_tools(rules::Vector{&lt;:AbstractFlowRules}, used_tools::Vector{String}, all_tools::Vector{String}; combine::Function=union)</code></pre><p>Get the list of allowed tools based on flow rules and usage history.</p><p><strong>Arguments</strong></p><ul><li><code>rules::Vector{&lt;:AbstractFlowRules}</code>: Vector of flow rules to apply</li><li><code>used_tools::Vector{String}</code>: List of tools that have been used</li><li><code>all_tools::Vector{String}</code>: Complete set of available tools</li><li><code>combine::Function=union</code>: Function to combine results from multiple rules (default: union for OR behavior)</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{String}</code>: List of allowed tool names</li></ul><p><strong>Notes</strong></p><ul><li>Only processes rules that are subtypes of AbstractToolFlowRules</li><li>If no tool rules are present, returns all_tools (passthrough)</li><li>Empty result from a rule means no tools allowed by that rule</li><li>Results are combined using union by default (OR behavior)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L38-L57">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.get_used_tools" href="#SwarmAgents.get_used_tools"><code>SwarmAgents.get_used_tools</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_used_tools(history::AbstractVector{&lt;:PT.AbstractMessage}, agent::Union{AbstractAgent,Nothing}=nothing)</code></pre><p>Get a list of all tools used in the message history, regardless of message privacy settings. Privacy settings do not affect tool usage tracking as this is essential for flow control and authentication state management.</p><p><strong>Arguments</strong></p><ul><li><code>history::AbstractVector{&lt;:PT.AbstractMessage}</code>: The message history to analyze</li><li><code>agent::Union{AbstractAgent,Nothing}=nothing</code>: Optional agent (kept for API compatibility)</li></ul><p><strong>Returns</strong></p><ul><li><code>Vector{String}</code>: List of all tool names used in the message history</li></ul><p><strong>Notes</strong></p><ul><li>Only extracts tool names from AIToolRequest messages&#39; tool_calls</li><li>Ignores PrivateMessage visibility, operates on underlying messages</li><li>Essential for flow control and authentication state management</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L461-L479">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.handle_tool_calls!-Tuple{Union{Nothing, Agent}, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}" href="#SwarmAgents.handle_tool_calls!-Tuple{Union{Nothing, Agent}, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}"><code>SwarmAgents.handle_tool_calls!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">handle_tool_calls!(active_agent::Union{Agent, Nothing}, history::AbstractVector{&lt;:PT.AbstractMessage}, session::Session)</code></pre><p>Handle tool calls for an agent. Tools are executed directly using the agent&#39;s tool_map.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.is_cycle-Tuple{Any}" href="#SwarmAgents.is_cycle-Tuple{Any}"><code>SwarmAgents.is_cycle</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_cycle(history; n::Int, span::Int)</code></pre><p>Check if there has been a repeated cycle of tool calls.</p><p><strong>Arguments</strong></p><ul><li><code>history</code>: Vector of messages</li><li><code>n::Int</code>: Number of cycles required</li><li><code>span::Int</code>: Maximum width of cycle to consider</li></ul><p><strong>Returns</strong></p><ul><li><code>Bool</code>: true if a cycle is detected</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility, operates on underlying messages</li><li>Ignores AIToolRequests and non-tool messages</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L326-L342">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.is_visible-Tuple{PromptingTools.AbstractMessage, Agent}" href="#SwarmAgents.is_visible-Tuple{PromptingTools.AbstractMessage, Agent}"><code>SwarmAgents.is_visible</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_visible(message::PT.AbstractMessage, agent::Agent)::Bool</code></pre><p>Determine if a message is visible to a specific agent. Returns true for non-private messages, and checks visibility list for private messages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/privacy.jl#L34-L39">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.isabstractagent-Tuple{AbstractAgent}" href="#SwarmAgents.isabstractagent-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagent</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isabstractagent(x)</code></pre><p>Check if x is an AbstractAgent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L107-L111">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.isabstractagentactor-Tuple{AbstractAgent}" href="#SwarmAgents.isabstractagentactor-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagentactor</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isabstractagentactor(x)</code></pre><p>Check if x is an AbstractAgentActor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L123-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.isabstractagentref-Tuple{AbstractAgent}" href="#SwarmAgents.isabstractagentref-Tuple{AbstractAgent}"><code>SwarmAgents.isabstractagentref</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isabstractagentref(x)</code></pre><p>Check if x is an AbstractAgentRef.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/core_types.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.num_subsequent_repeats-Tuple{Any}" href="#SwarmAgents.num_subsequent_repeats-Tuple{Any}"><code>SwarmAgents.num_subsequent_repeats</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">num_subsequent_repeats(history)</code></pre><p>Count maximum number of subsequent repeats of any tool.</p><p><strong>Arguments</strong></p><ul><li><code>history</code>: Vector of messages</li></ul><p><strong>Returns</strong></p><ul><li><code>Int</code>: Maximum number of subsequent repeats</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility, operates on underlying messages</li><li>Ignores AIToolRequests and non-tool messages</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L374-L388">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.print_progress-Tuple{Union{Nothing, IO}, Union{Nothing, AbstractAgent}, Any}" href="#SwarmAgents.print_progress-Tuple{Union{Nothing, IO}, Union{Nothing, AbstractAgent}, Any}"><code>SwarmAgents.print_progress</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">print_progress(io::Union{IO, Nothing}, agent::Union{AbstractAgent, Nothing}, msg::AbstractMessage)</code></pre><p>Print progress messages for agent actions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/utils.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.run_full_turn!-Tuple{Session, AbstractString}" href="#SwarmAgents.run_full_turn!-Tuple{Session, AbstractString}"><code>SwarmAgents.run_full_turn!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_full_turn!(session::Session, user_prompt::AbstractString; kwargs...)</code></pre><p>Run a full turn with a user prompt, updating the session state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L166-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.run_full_turn-Tuple{AbstractAgent, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}" href="#SwarmAgents.run_full_turn-Tuple{AbstractAgent, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}"><code>SwarmAgents.run_full_turn</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_full_turn(agent::AbstractAgent, messages::AbstractVector{&lt;:PT.AbstractMessage}, session::Session; max_turns::Int = 5, combine::Function = vcat)</code></pre><p>Run a full turn of an agent, executing all tool calls with proper tool filtering and termination checks.</p><p><strong>Arguments</strong></p><ul><li><code>agent::AbstractAgent</code>: The agent to run the turn for</li><li><code>messages::AbstractVector{&lt;:PT.AbstractMessage}</code>: Initial message history</li><li><code>session::Session</code>: Session containing rules and context</li><li><code>max_turns::Int = 5</code>: Maximum number of turns to execute</li><li><code>combine::Function = vcat</code>: Function to combine results from multiple tool rules (must use vcat for multiple tools)</li></ul><p><strong>Notes</strong></p><ul><li>Tools are filtered using get<em>allowed</em>tools based on session rules</li><li>Available tools come from agent&#39;s tool_map</li><li>If no tool rules exist, all agent tools are available</li><li>Tool selection respects AbstractToolFlowRules filtering</li><li>For single tool usage, wrap tool in FixedOrder: FixedOrder(tool)</li><li>For multiple tools, use vcat as combine function to merge tool lists</li><li>Termination checks are run after each tool execution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L73-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.run_termination_checks-NTuple{4, Any}" href="#SwarmAgents.run_termination_checks-NTuple{4, Any}"><code>SwarmAgents.run_termination_checks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_termination_checks(history, active_agent, io, checks)</code></pre><p>Run all termination checks on the message history.</p><p><strong>Arguments</strong></p><ul><li><code>history</code>: Vector of messages</li><li><code>active_agent</code>: Current active agent</li><li><code>io</code>: IO stream for printing messages</li><li><code>checks</code>: Vector of termination checks</li></ul><p><strong>Returns</strong></p><ul><li><code>Union{AbstractAgent, Nothing}</code>: Updated active agent (nothing if terminated)</li></ul><p><strong>Notes</strong></p><ul><li>Ignores PrivateMessage visibility for all checks</li><li>Prints termination messages to io when triggered</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/flow_rules.jl#L419-L436">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.scrub_agent_name-Tuple{AbstractAgent}" href="#SwarmAgents.scrub_agent_name-Tuple{AbstractAgent}"><code>SwarmAgents.scrub_agent_name</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">scrub_agent_name(agent::AbstractAgent)</code></pre><p>Clean up agent name for display.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/utils.jl#L49-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.tool_output-Tuple{Any}" href="#SwarmAgents.tool_output-Tuple{Any}"><code>SwarmAgents.tool_output</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">tool_output(output::Any)</code></pre><p>Convert tool output to string format. This function is used to convert any tool output into a string representation that can be used in tool messages.</p><p><strong>Behavior</strong></p><p>The function handles three cases in order of precedence:</p><ol><li>AbstractString input: returns the string directly</li><li>Struct with :output property: returns the output property value as string</li><li>Other types: converts to string using show method</li></ol><p><strong>Customization</strong></p><p>Users can customize how their tool outputs are converted to strings in two ways:</p><ol><li>Define an :output property in your struct:</li></ol><pre><code class="language-julia hljs">struct MyToolOutput
    output::String  # This will be used automatically
    other_data::Any
end</code></pre><ol><li>Define a custom tool_output method for your type:</li></ol><pre><code class="language-julia hljs">struct MyCustomOutput
    data::Any
end

# Custom conversion method
SwarmAgents.tool_output(x::MyCustomOutput) = &quot;Processed: $(x.data)&quot;</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># String passthrough
tool_output(&quot;hello&quot;)  # returns &quot;hello&quot;

# Struct with output property
struct ResultWithOutput
    output::String
    details::Dict
end
result = ResultWithOutput(&quot;computation done&quot;, Dict(&quot;time&quot; =&gt; 0.5))
tool_output(result)  # returns &quot;computation done&quot;

# Custom tool_output method
struct CustomResult
    value::Int
end
SwarmAgents.tool_output(x::CustomResult) = &quot;Result: $(x.value)&quot;
tool_output(CustomResult(42))  # returns &quot;Result: 42&quot;

# Fallback to show method
tool_output([1, 2, 3])  # returns &quot;[1, 2, 3]&quot;</code></pre><p>See also: <a href="#SwarmAgents.handle_tool_calls!-Tuple{Union{Nothing, Agent}, AbstractVector{&lt;:PromptingTools.AbstractMessage}, Session}"><code>handle_tool_calls!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/utils.jl#L80-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.transfer_agent-Tuple{String, String}" href="#SwarmAgents.transfer_agent-Tuple{String, String}"><code>SwarmAgents.transfer_agent</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">transfer_agent(target_agent_name::String, handover_message::String) -&gt; AgentRef</code></pre><p>Generic transfer function that creates an AgentRef for the specified target agent. This function supports introspection via PT.get<em>arg</em>names and PT.get<em>arg</em>types.</p><p><strong>Arguments</strong></p><ul><li><code>target_agent_name::String</code>: Name of the target agent to transfer to</li><li><code>handover_message::String</code>: Explanation for why the transfer is needed</li></ul><p><strong>Returns</strong></p><ul><li><code>AgentRef</code>: Reference to the target agent</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs"># Transfer to &quot;Support Agent&quot; with explanation
new_agent = transfer_agent(&quot;Support Agent&quot;, &quot;Customer needs technical assistance&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L207-L225">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SwarmAgents.update_system_message!-Union{Tuple{T}, Tuple{AbstractVector{T}, Union{Nothing, Agent}}} where T&lt;:PromptingTools.AbstractMessage" href="#SwarmAgents.update_system_message!-Union{Tuple{T}, Tuple{AbstractVector{T}, Union{Nothing, Agent}}} where T&lt;:PromptingTools.AbstractMessage"><code>SwarmAgents.update_system_message!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update_system_message!(history::AbstractVector{&lt;:PT.AbstractMessage}, active_agent::Union{Agent, Nothing})</code></pre><p>Update the system message in the history with the active agent&#39;s instructions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/SwarmAgents.jl/blob/944b0c03433fa173fc42970eb2921ea724fb271e/src/workflow.jl#L58-L62">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 16 November 2024 17:02">Saturday 16 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
